(this["webpackJsonpsimple-shop"]=this["webpackJsonpsimple-shop"]||[]).push([[0],{34:function(n,e,t){n.exports=t(45)},45:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(18),c=t.n(o),i=t(4),u=t(12),l=t(20),m=t(5),d="ADD_ITEM",s="REMOVE_ITEM",f="CLEAR_CART",g={cart:[]},p="FETCH_PRODUCTS_SUCCESS",b="FETCH_PRODUCTS_LOADING",h="FETCH_PRODUCTS_ERROR",E=function(n){return{type:p,value:n,loading:!1}},v=function(){return{type:b,loading:!0}},O=function(){return{type:h,error:!0,loading:!1}},j={products:[],loading:!0,error:!1},y="PLACE_ORDER",w={orders:[]},C="FETCH_CATEGORIES_SUCCESS",k="FETCH_CATEGORIES_ERROR",S=function(n){return{type:C,value:n,loading:!1}},x=function(){return{type:k,error:!0,loading:!1}},T={categories:[],loading:!0,error:!1},R="TOGGLE_SIDEBAR",_={visible:!1},I=Object(u.c)({cart:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return Object(m.a)(Object(m.a)({},n),{},{cart:[].concat(Object(l.a)(n.cart),[e.item])});case s:return Object(m.a)(Object(m.a)({},n),{},{cart:n.cart.filter((function(n){return n.id!==e.id}))});case f:return Object(m.a)(Object(m.a)({},n),{},{cart:[]});default:return n}},products:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case p:return{products:e.value,loading:e.loading};case b:return Object(m.a)(Object(m.a)({},n),{},{loading:e.loading});case h:return Object(m.a)(Object(m.a)({},n),{},{error:e.error,loading:e.loading});default:return n}},orders:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case y:return Object(m.a)(Object(m.a)({},n),{},{orders:[].concat(Object(l.a)(n.orders),[{name:e.name,lastName:e.lastName,items:e.items}])});default:return n}},categories:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case C:return{categories:e.value,loading:e.loading};case k:return Object(m.a)(Object(m.a)({},n),{},{error:e.error,loading:e.loading});default:return n}},sidebar:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case R:return{visible:!n.visible};default:return n}}}),F=t(29),L="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d;var D=t(1),A=t(2),z="#9297C4",N="#77BA99",P="#262730",H="#FFF",U="#EFF0D1",G="768px";function M(){var n=Object(D.a)(["\n    body {\n        background: ",";\n        color: ","; \n        margin: 0;\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n            'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n"]);return M=function(){return n},n}var B=Object(A.a)(M(),U,P),V=t(8),W=t(13),Y=function(n){return n.cart.cart},J=function(n){return n.cart.cart.reduce((function(n,e){return n+e.price}),0)},X=function(n){return n.cart.cart.length},$=function(n){return n.cart.cart.map((function(n){return n.id}))};function q(){var n=Object(D.a)(["\n    color: inherit;\n    text-decoration: none;\n    font-size: 1rem;\n    margin: 0 0.75rem;\n\n    &:first-of-type {\n        display: none;\n    }\n\n    &:hover {\n        color: ",";\n    }\n\n    @media (min-width: ",") {\n        &:first-of-type {\n            display: block;\n        }\n    }\n"]);return q=function(){return n},n}function K(){var n=Object(D.a)(["\n    font-size: 1rem;\n    margin: 0 0.75rem;\n    padding: 0;\n    border: none;\n    background: inherit;\n    color: inherit;\n\n    @media (min-width: ",") {\n        display: none;\n    }\n"]);return K=function(){return n},n}function Q(){var n=Object(D.a)(["\n    position: fixed;\n    width: 100%;\n    display: flex;\n    top: 0;\n    justify-content: space-between;\n    background: ",";\n    color: ",";\n    padding: 0.75rem;\n"]);return Q=function(){return n},n}var Z=A.b.nav(Q(),P,H),nn=A.b.button(K(),G),en=Object(A.b)(V.b)(q(),N,G);var tn=Object(i.b)((function(n){return{cartTotal:J(n),cartLength:X(n)}}),(function(n){return{actionToggleSidebar:function(){return n({type:R})}}}))((function(n){var e=n.cartLength,t=n.cartTotal,r=n.actionToggleSidebar;return a.a.createElement(Z,null,a.a.createElement(nn,{onClick:r},"Menu"),a.a.createElement(en,{to:"/simple-shop/"},"Simple Shop"),a.a.createElement(en,{to:"/simple-shop/cart"},"(",e,") Cart: ",t))})),rn=function(n){return n.categories.categories},an=function(n){return n.categories.loading},on=function(n){return n.categories.error},cn=function(n){return n.sidebar.visible};function un(){var n=Object(D.a)(["\n  text-decoration: none;\n  color: inherit;\n  white-space: nowrap;\n\n  &:hover {\n    color: ",";\n  }\n\n  @media (min-width: ",") {\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return un=function(){return n},n}function ln(){var n=Object(D.a)(["\n  font-weight: bold;\n  margin: 0 0 0.5rem;\n"]);return ln=function(){return n},n}function mn(){var n=Object(D.a)(["\n  list-style: none;\n  padding: 0;\n  margin: 0 0 0.5rem;\n"]);return mn=function(){return n},n}function dn(){var n=Object(D.a)(["\n  display: ",";\n  left: -1rem;\n  top: 1.625rem;\n  position: fixed;\n  height: calc(100vh - 3rem);\n  background: ",";\n  color: ",";\n  padding: 1rem 1rem 0.5rem;\n  margin: 1rem 0 1rem 1rem;\n\n  @media (min-width: ",") {\n    background: ",";\n    color: ",";\n    display: block;\n    position: static;\n    height: auto;\n  }\n"]);return dn=function(){return n},n}var sn=A.b.aside(dn(),(function(n){return n.visible?"block":"none"}),N,H,G,H,P),fn=A.b.ul(mn()),gn=A.b.p(ln()),pn=Object(A.b)(V.b)(un(),z,G,N);var bn=Object(i.b)((function(n){return{categories:rn(n),loading:an(n),error:on(n),sidebarVisible:cn(n)}}),null)((function(n){var e=n.categories,t=n.loading,r=n.error,o=n.sidebarVisible;return a.a.createElement(sn,{visible:o},a.a.createElement(fn,null,a.a.createElement(gn,null,"Menu"),a.a.createElement("li",null,a.a.createElement(pn,{to:"/simple-shop/"},"Home")),a.a.createElement("li",null,a.a.createElement(pn,{to:"/simple-shop/orders"},"Orders"))),a.a.createElement(fn,null,a.a.createElement(gn,null,"Categories"),t?a.a.createElement("li",null,"Loading"):r?a.a.createElement("li",null,"Error"):e.map((function(n){return a.a.createElement("li",{key:n.key},a.a.createElement(pn,{to:"/simple-shop/".concat(n.key)},n.name))}))))}));function hn(){var n=Object(D.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    background: ",";\n    padding: 1rem;\n    margin: 1rem;\n\n    p {\n        font-weight: bold;\n        margin: 0;\n    }\n"]);return hn=function(){return n},n}var En=A.b.section(hn(),H);var vn=function(n){var e=n.children;return a.a.createElement(En,null,e)};var On=function(){return a.a.createElement(vn,null,a.a.createElement("p",null,"Welcome to my Shop!"))},jn=t(17);function yn(){var n=Object(D.a)(["\n  font-size: 1rem;\n  padding: 0.5rem;\n  background: ",";\n  cursor: pointer;\n  color: ",";\n  border: none;\n  font-weight: bold;\n  width: 100%;\n"]);return yn=function(){return n},n}function wn(){var n=Object(D.a)(["\n  font-weight: bold;\n"]);return wn=function(){return n},n}function Cn(){var n=Object(D.a)(["\n  margin: 0;\n"]);return Cn=function(){return n},n}function kn(){var n=Object(D.a)(["\n  ","\n\n  margin: 0;\n"]);return kn=function(){return n},n}function Sn(){var n=Object(D.a)(["\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  margin: 0 0 1rem;\n\n  @media (min-width: ",") {\n    width: 30%;\n    height: 100%;\n    padding-right: 1rem;\n    margin: auto 0;\n  }\n"]);return Sn=function(){return n},n}function xn(){var n=Object(D.a)(["\n  width: 100%;\n\n  @media (min-width: ",") {\n    width: 70%;\n    height: 100%;\n  }\n"]);return xn=function(){return n},n}function Tn(){var n=Object(D.a)(["\n  background: ",";\n  padding: 1rem;\n  margin: 1rem;\n  display: flex;\n  flex-direction: column;\n  word-break: break-word;\n\n  @media (min-width: ",") {\n    flex-direction: row;\n  }\n"]);return Tn=function(){return n},n}var Rn=A.b.section(Tn(),H,G),_n=A.b.div(xn(),G),In=A.b.figure(Sn(),G),Fn=A.b.img(kn(),(function(n){return n.imgSize[0]>n.imgSize[1]?"\n      width: 20%;\n      padding: 0 40%;\n\n      @media (min-width: ".concat(G,") {\n        width: 50%;\n        padding: 0 25%;\n      }\n      "):"width: 30%;\n\n        @media (min-width: ".concat(G,") {\n          width: 75%;\n        }\n    ")})),Ln=A.b.h3(Cn()),Dn=A.b.p(wn()),An=A.b.button(yn(),N,H),zn=function(n){return n.products.products},Nn=function(n){return n.products.loading},Pn=function(n){return n.products.error};var Hn=Object(i.b)((function(n){return{products:zn(n),cartItems:$(n)}}),(function(n){return{actionAddItem:function(e){return n(function(n){return{type:d,item:n}}(e))},actionRemoveItem:function(e){return n(function(n){return{type:s,id:n}}(e))}}}))((function(n){var e=Object(r.useState)([]),t=Object(jn.a)(e,2),o=t[0],c=t[1];return a.a.createElement(Rn,null,a.a.createElement(In,null,a.a.createElement(Fn,{src:n.image,alt:n.title,onLoad:function(n){c([n.target.naturalHeight,n.target.naturalWidth])},imgSize:o})),a.a.createElement(_n,null,a.a.createElement(Ln,null,n.title),a.a.createElement("p",null,"Category: ",n.category),a.a.createElement("p",null,n.description),a.a.createElement(Dn,null,"Price: ",n.price),n.cartItems.includes(n.id)?a.a.createElement(An,{danger:!0,id:n.id,onClick:function(e){n.actionRemoveItem(Number(e.target.id))}},"Remove from Cart"):a.a.createElement(An,{id:n.id,onClick:function(e){var t=n.products.find((function(n){return n.id===Number(e.target.id)}));n.actionAddItem(t)}},"Add to Cart")))}));var Un=Object(i.b)((function(n){return{loading:Nn(n),error:Pn(n)}}),null)((function(n){var e=n.list,t=n.loading,r=n.error;return a.a.createElement(a.a.Fragment,null,t?a.a.createElement(vn,null,a.a.createElement("p",null,"Loading items...")):r?a.a.createElement(vn,null,a.a.createElement("p",null,"Something gone wrong...")):a.a.createElement("section",null,e.map((function(n){return a.a.createElement(Hn,{key:n.id,title:n.title,category:n.category,description:n.description,price:n.price,image:n.image,id:n.id})}))))}));function Gn(){var n=Object(D.a)(["\n  font-size: 1rem;\n  padding: 0.5rem;\n  background: ",";\n  cursor: pointer;\n  color: ",";\n  border: none;\n  text-decoration: none;\n  font-weight: bold;\n"]);return Gn=function(){return n},n}function Mn(){var n=Object(D.a)(["\n  margin: 0 0 0.5rem;\n"]);return Mn=function(){return n},n}function Bn(){var n=Object(D.a)(["\n  background: ",";\n  padding: 1rem;\n  margin: 1rem;\n  display: flex;\n  flex-direction: column;\n"]);return Bn=function(){return n},n}var Vn=A.b.section(Bn(),H),Wn=A.b.h3(Mn()),Yn=Object(A.b)(V.b)(Gn(),N,H);var Jn=Object(i.b)((function(n){return{cartTotal:J(n),cartLength:X(n)}}),null)((function(n){var e=n.cartTotal,t=n.cartLength;return 0!==t?a.a.createElement(Vn,null,a.a.createElement(Wn,null,"You have ",t," ",1===t?"product":"products","for:",a.a.createElement("br",null),e," z\u0142"),a.a.createElement(Yn,{disabled:0===t,to:"/simple-shop/cart/order"},"Order Items")):a.a.createElement(vn,null,a.a.createElement("p",null,"Cart is empty"))}));var Xn=Object(i.b)((function(n){return{cart:Y(n),cartLength:X(n)}}),null)((function(n){var e=n.cart;return 0!==n.cartLength?a.a.createElement("section",null,a.a.createElement(Un,{list:e}),a.a.createElement(Jn,null)):a.a.createElement(Jn,null)})),$n=function(n){return n.orders.orders};function qn(){var n=Object(D.a)(["\n  font-size: 1rem;\n  padding: 0.5rem;\n  margin: 0 0 0.5rem;\n  width: calc(100% - 1rem - 4px);\n\n  ","\n"]);return qn=function(){return n},n}function Kn(){var n=Object(D.a)(["\n  margin: 0 0 0.5rem;\n"]);return Kn=function(){return n},n}function Qn(){var n=Object(D.a)(["\n    background: ",";\n    padding: 1rem;\n    margin: 1rem;\n"]);return Qn=function(){return n},n}var Zn=A.b.section(Qn(),H),ne=A.b.h3(Kn()),ee=A.b.input(qn(),(function(n){return"submit"===n.type?"\n        background: ".concat(N,";\n        cursor: pointer;\n        color: ").concat(H,";\n        border: none;\n        font-weight: bold;\n        margin: 0;\n        width: 100%;\n        "):null}));var te=Object(i.b)((function(n){return{cart:Y(n),cartTotal:J(n),cartLength:X(n),orders:$n(n)}}),(function(n){return{actionPlaceOrder:function(e,t,r){return n(function(n,e,t){return{type:y,name:n,lastName:e,items:t}}(e,t,r))},actionClearCart:function(){return n({type:f})}}}))((function(n){var e=n.cart,t=n.cartTotal,o=n.cartLength,c=n.actionPlaceOrder,i=n.actionClearCart,u=n.orders,l=Object(r.useState)(""),m=Object(jn.a)(l,2),d=m[0],s=m[1],f=Object(r.useState)(""),g=Object(jn.a)(f,2),p=g[0],b=g[1];return 0!==e.length?a.a.createElement(Zn,null,a.a.createElement(ne,null,"You want to buy ",o," ",1===o?"product":"products"," ","for ",t," z\u0142"),a.a.createElement("form",{onSubmit:function(n){n.preventDefault(),c(d,p,e),i(),s(""),b("")}},a.a.createElement(ee,{value:d,onChange:function(n){s(n.target.value)},placeholder:"Your name..."}),a.a.createElement(ee,{value:p,onChange:function(n){b(n.target.value)},placeholder:"Your last name..."}),a.a.createElement(ee,{type:"submit",value:"Buy items"}))):0!==u.length?a.a.createElement(vn,null,a.a.createElement(ne,null,"Thank you for ordering items in our shop"),a.a.createElement(V.b,{to:"/simple-shop/"},"Go to homepage"),a.a.createElement(V.b,{to:"/simple-shop/orders"},"Check your orders")):a.a.createElement(vn,null,a.a.createElement(ne,null,"There's nothing to order"),a.a.createElement(V.b,{to:"/simple-shop/"},"Go to homepage"))}));var re=Object(i.b)((function(n){return{cart:Y(n),cartLength:X(n)}}),null)((function(n){var e=n.cart;return 0!==n.cartLength?a.a.createElement("section",null,a.a.createElement(Un,{list:e}),a.a.createElement(te,null)):a.a.createElement(te,null)}));var ae=Object(i.b)((function(n){return{products:zn(n)}}),(function(n){return{actionFetchProducts:function(e){return n(function(n){return function(e){e(v()),fetch("https://fakestoreapi.com/".concat(n)).then((function(n){return n.json()})).then((function(n){return e(E(n))})).catch((function(n){console.error("Error:",n),e(O())}))}}(e))}}}))((function(n){var e=n.actionFetchProducts,t=n.products;return Object(r.useEffect)((function(){e("products/category/".concat(n.match.params.categoryId))}),[e,n.match.params.categoryId]),a.a.createElement(Un,{list:t})}));function oe(){var n=Object(D.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background: ",";\n    padding: 1rem;\n    margin: 1rem;\n\n    p {\n        font-weight: bold;\n        margin: 0;\n    }\n"]);return oe=function(){return n},n}var ce=A.b.section(oe(),H);var ie=function(n){var e=n.children;return a.a.createElement(ce,null,e)};var ue=Object(i.b)((function(n){return{orders:$n(n)}}),null)((function(n){var e=n.orders;return 0!==e.length?a.a.createElement("section",null,e.map((function(n,e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(ie,null,a.a.createElement("p",null,"Order no. ",e+1),a.a.createElement("p",null,n.name+" "+n.lastName)),a.a.createElement(Un,{key:e,list:n.items}))}))):a.a.createElement(vn,null,a.a.createElement("p",null,"No orders so far..."))}));function le(){var n=Object(D.a)(["\n  main {\n    margin-top: 3rem;\n    display: flex;\n    justify-content: center;\n  }\n"]);return le=function(){return n},n}var me=Object(A.a)(le());var de=Object(i.b)(null,(function(n){return{actionFetchCategories:function(){return n((function(n){fetch("https://simple-shop-19e34.firebaseio.com/categories.json").then((function(n){return n.json()})).then((function(e){return n(S(Object.entries(e).map((function(n){return{key:n[0],name:n[1]}}))))})).catch((function(e){console.error("Error:",e),n(x())}))}))}}}))((function(n){var e=n.actionFetchCategories;return Object(r.useEffect)((function(){e()}),[e]),a.a.createElement("main",null,a.a.createElement(me,null),a.a.createElement(V.a,null,a.a.createElement(tn,null),a.a.createElement(bn,null),a.a.createElement(W.c,null,a.a.createElement(W.a,{exact:!0,path:"/simple-shop/cart/order",component:re}),a.a.createElement(W.a,{exact:!0,path:"/simple-shop/cart",component:Xn}),a.a.createElement(W.a,{exact:!0,path:"/simple-shop/orders",component:ue}),a.a.createElement(W.a,{exact:!0,path:"/simple-shop",component:On}),a.a.createElement(W.a,{exact:!0,path:"/simple-shop/:categoryId",component:ae}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se,fe=Object(u.e)(I,se,L(Object(u.a)(F.a)));c.a.render(a.a.createElement(i.a,{store:fe},a.a.createElement(B,null),a.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.46f800b3.chunk.js.map